<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="operation_logistic_view_tree" model="ir.ui.view">
        <field name="name">operation.logistic.tree</field>
        <field name="model">operation.logistic</field>
        <field name="arch" type="xml">
            <tree string="Operation">
                <field name="name" />
                <field name="purchase_id"/>
                <field name="contract_no"/>
                <field name="arrived_date"/>
            </tree>
        </field>
    </record>

    <record id="operation_logistic_view_form" model="ir.ui.view">
        <field name="name">operation.logistic.from</field>
        <field name="model">operation.logistic</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button string="Request PO Review" type="object" states="new,prepare" name="action_request_approval_pom" class="oe_highlight" groups="first_grain_custom.group_operation_l_manager"/>
                    <button string="Start" name="action_prepare" groups="first_grain_custom.group_operation_l_manager" states="new" type="object" />
                    <button string="Approve" type="object" states="request_review" name="action_approve_pom" class="oe_highlight" groups="purchase.group_purchase_manager"/>
                    <button string="Approve" type="object" states="request_gm_ceo" name="action_approve_gm_ceo" class="oe_highlight" groups="first_grain_custom.group_gm,first_grain_custom.group_ceo"/>
                    <field name="state" widget="statusbar" />
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <label class="col-form-label" for="name">Number</label>
                            <field name="name"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="purchase_id"/>
                            <field name="contract_no"/>
                        </group>
                        <group>
                            <field name="arrived_date"/>
                        </group>

                    </group>
                    <notebook>
                        <page name="form4" string="Form 4">
                            <group>
                                    <group>
                                        <field name="form4"/>
                                        <field name="issue_date"/>
                                        <field name="bank_name"/>
                                        <field name="exporter_name"/>
                                    </group>
                                    <group>
                                        <field name="address"/>
                                        <field name="id"/>
                                        <field name="product_id"/>
                                        <field name="qty"/>
                                    </group>
                                    <group>
                                        <field name="unit_price"/>
                                        <field name="contract_info"/>
                                        <field name="organ"/>
<!--                                        <field name="product_form"/>-->
                                    </group>
                                    <group>
<!--                                        <field name="source_doc"/>-->
<!--                                        <field name="bank_fees"/>-->
<!--                                        <field name="pay_bank_fees"/>-->
<!--                                        <field name="attachment_doc"/>-->
                                        <field name="show_review" invisible="1"/>

                                    </group>


                                <button name="action_ask_for_form4" string="Request form 4" type="object"></button>
                                <button name="action_done_form4" string="Done" type="object" groups="account.group_account_manager"></button>
                                <button name="action_review_form4" string="Review" type="object" groups="first_grain_custom.group_operation_l_user,first_grain_custom.group_logistic_manager" attrs="{'invisible':[('show_review','=',False)]}"/>

                            </group>
                        </page>
                        <page name="customs" string="Customs">
                            <group>
                                <group>
                                    <field name="custom_attachment"/>
                                </group>
                                <group>
                                    <field name="release_attachment"/>
                                </group>
                                <button name="action_done_custom" string="Done" type="object" ></button>
                            </group>

                        </page>
                        <page name="phyto" string="Phyto">
                            <group>
                                <group>
                                    <field name="phyto_attachment"/>
                                </group>
                                <group>
                                    <field name="phyto_docment"/>
                                </group>
                                <button name="action_done_phyto" string="Done" type="object" ></button>
                            </group>

                        </page>
                        <page name="other_contract" string="Other Contract">
                            <group>
                                <group string="Marine">
                                    <field name="marine_agent"/>
                                    <field name="marine_agent_po"/>
                                    <field name="marine_agent_contract"/>
                                </group>
                                <group string="Inspection">
                                    <field name="inspection_company"/>
                                    <field name="inspection_company_po"/>
                                    <field name="inspection_company_contract"/>
                                </group>
                                <group string="Insurance">
                                    <field name="insurance_company"/>
                                    <field name="insurance_company_po"/>
                                    <field name="insurance_company_contract"/>
                                    <field name="service"/>
                                </group>
                                <group string="Transportation">
                                    <field name="transportation_contractor"/>
                                    <field name="transportation_contractor_po"/>
                                    <field name="transportation_contractor_contract"/>
                                </group>
                                <group string="Storing Commodities">
                                    <field name="storing_commodities"/>
                                    <field name="storing_commodities_po"/>
                                    <field name="storing_commodities_contract"/>
                                </group>
                                <group string="Discharge Company">
                                    <field name="discharge_company"/>
                                    <field name="discharge_company_po"/>
                                    <field name="discharge_company_contract"/>
                                </group>
                            </group>

                        </page>
                        <page name="log" string="Log">
                            <field name="log_line_ids">
                                <tree editable="bottom">
                                    <field name="date"/>
                                    <field name="description"/>
                                    <field name="user_id"/>
                                </tree>
                            </field>
                        </page>
                        <page name="bill_leading" string="Bill Leading" attrs="{'invisible':[('bill_no','=',False)]}">
                            <group>
                                <group>
                                    <field name="bill_no"/>
                                </group>
                            </group>
                        </page>
                        <page string="Accept Import">
                            <group>
                                <group>
                                    <field name="product_id" />
                                    <field name="acceptation_agri"/>
                                    <field name="vessel_name"/>
                                    <field name="bill_leading"/>
                                    <field name="port_dest"/>
                                    <field name="organ" />
                                </group>
                                <group>
                                     <field name="cortication_no"/>
                                    <field name="cortication_date"/>
                                    <field name="invoice_no"/>
                                    <field name="invoice_date"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="contract_kanban_view_form" model="ir.ui.view">
            <field name="name">operation.logistic.kanban</field>
            <field name="model">operation.logistic</field>
            <field name="arch" type="xml">
                <kanban class="o_kanban_mobile">
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_global_click">
                                <div>
                                    <strong><field name="name"/></strong>
                                </div>
                                <div>
                                    <span><field name="notification_status"/>&amp;nbsp;</span>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
    </record>


    <record id="operation_logistic_action_main" model="ir.actions.act_window">
        <field name="name">Operation</field>
        <field name="res_model">operation.logistic</field>
        <field name="view_mode">tree,form,kanban</field>
<!--        <field name="search_view_id" ref="user_partner_discount_view_search"/>-->
    </record>

    <menuitem name="Operation"
              id="operation_logistic_menu_first"
              groups="base.group_user"
              sequence="7"
              action="operation_logistic_action_main"
              />

    <menuitem name="Operation and Logistic"
              id="operation_logistic_2_menu"
              action="operation_logistic_action_main"
              groups="base.group_user"
              sequence="1"
              parent="operation_logistic_menu_first"
              />

</odoo>